<!DOCTYPE html>
<html>
    <head>
        <title>Jasmine</title>
    </head>
    <body>
        <script src="http://searls.github.com/jasmine-all/jasmine-all-min.js"></script>

        <script src="//code.angularjs.org/1.0.6/angular.js"></script>
        <script src="//code.angularjs.org/1.0.6/angular-mocks.js"></script>

        <script type="text/javascript" src="fizzbuzz.js"></script>

        <script type="text/javascript">
            var tests = {
                3:"Fizz", 
                5: "Buzz",
                7: '7',
                15: "FizzBuzz"
            };
            describe('FizzBuzzCtrl', function(){
                var $scope = {};
                var $ctrl = undefined;

                beforeEach(inject(function($controller, $rootScope) {
                    $scope = $rootScope.$new();

                    $ctrl = $controller('FizzBuzzCtrl', {$scope: $scope});
                }));

                function addTest(key, value) {
                    it(key +" should be " +value, function(){
                        $scope.selectedValue = key;
                        $scope.fizzbuzz($scope.selectedValue);

                        expect($scope.selectedResult).toBe(value);
                    });
                }

                for ( key in tests) {
                    addTest(key, tests[key]);
                }
            });
        </script>
    </body>
</html>
